<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/my-page}"
      layout:decorator="layout">
<th:block layout:fragment="script">
  <script type="text/javascript" src="/js/main/mapdata.js"></script>
  <script type="text/javascript" src="/js/main/mapconfig.js"></script>
  <script type="text/javascript" src="/js/main/mapmanipulate.js"></script>
  <script type="text/javascript" src="/js/main/index.js"></script>
</th:block>
<th:block layout:fragment="css">
  <link rel="stylesheet" href="/css/myPage/myqna-detail.css">
</th:block>
<main layout:fragment="content">
  <div class="main-container">
    <h1>나의 문의내역 상세</h1>

    <!-- 문의내역 반복 출력 -->
    <div class="question-container" th:each="qna : ${qnaDetail}">
      <p><strong th:text="${qna.memberId}"></strong>님께서 문의하신 내용입니다.</p>
      <p><strong>제목:</strong> <span th:text="${qna.qnaSubject}"></span></p>
      <p><strong>문의내용:</strong></p>
      <p th:text="${qna.qnaContent}"></p>
      <!-- 첨부파일 영역 -->
      <div class="attachments">
        <p><strong>첨부파일:</strong></p>
        <ul>
          <li th:each="file : ${qnaFiles}">
            <a th:href="@{${file.webPath}}" th:text="${file.fileName}">파일 다운로드</a>
          </li>
        </ul>
      </div>

      <!-- 관리자 답변이 있으면 답변 내용 출력 -->
      <div class="answer-container" th:if="${qna.answerNo != null}">
        <p><strong>답변 제목:</strong> <span th:text="${qna.answerSubject}"></span></p>
        <p><strong>답변 내용:</strong></p>
        <p th:text="${qna.answerContent}"></p>
      </div>

      <!-- 답변이 없으면 메시지 출력 -->
      <div class="no-answer" th:if="${qna.answerNo == null}">
        <p>아직 답변이 등록되지 않았습니다.</p>
      </div>

    </div>

    <!-- 목록으로 돌아가기 버튼 -->
    <div class="button-container">
      <a href="/myqna" class="btn-back">목록으로 돌아가기</a>
    </div>
  </div>
</main>
</html>
