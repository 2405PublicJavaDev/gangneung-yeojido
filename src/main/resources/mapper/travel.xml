<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.gntour.gangneungyeojido.domain.travel.mapper.TravelMapper">
    <select id="selectAllTravels" resultType="TravelInfo">
        SELECT *
        FROM TRAVEL_INFO
    </select>
    <select id="selectAllTravelsPage" resultType="TravelInfo">
        SELECT *
        FROM TRAVEL_INFO
        ORDER BY TRAVEL_NO DESC
    </select>
    <select id="selectAllTravelsCount" resultType="_int">
        SELECT COUNT(*) FROM TRAVEL_INFO
    </select>
    <select id="selectOneTravel" resultType="TravelInfo">
        SELECT * FROM TRAVEL_INFO WHERE TRAVEL_NO = #{travelNo}
    </select>
    <update id="updateTravel">

    </update>
    <select id="selectAllRequestMark" resultType="ReqMarkAdd">
        SELECT *
        FROM REQ_MARK_ADD
        ORDER BY REQ_MARK_ADD_NO DESC
    </select>
    <select id="selectAllRequestMarkCount" resultType="_int">
        SELECT COUNT(*) FROM REQ_MARK_ADD
    </select>
    <select id="selectOneRequestMark" resultType="ReqMarkAdd">
        SELECT *
        FROM REQ_MARK_ADD
        WHERE REQ_MARK_ADD_NO = #{reqMarkAddNo}
    </select>
    <update id="updateRequestMark" parameterType="ReqMarkAdd" >
        UPDATE REQ_MARK_ADD
        <set>
            <if test="travelName != null" >
                TRAVEL_NAME = #{travelName},
            </if>
            <if test="latitude != null" >
                LATITUDE = #{latitude},
            </if>
            <if test="longitude != null" >
                LONGITUDE = #{longitude},
            </if>
            <if test="address != null" >
                ADDRESS = #{address},
            </if>
            <if test="phone != null" >
                PHONE = #{phone},
            </if>
            <if test="useTime != null" >
                USE_TIME = #{useTime},
            </if>
            <if test="parkFee != null" >
                PARK_FEE = #{parkFee},
            </if>
            <if test="entryFee != null" >
                ENTRY_FEE = #{entryFee},
            </if>
            <if test="useFee != null" >
                USE_FEE = #{useFee},
            </if>
            <if test="introduce != null" >
                INTRODUCE = #{introduce},
            </if>
            <if test="siteUrl != null" >
                SITE_URL = #{siteUrl},
            </if>
            <if test="imageUrl != null" >
                IMAGE_URL = #{imageUrl},
            </if>
            <if test="acceptableStatus != null" >
                ACCEPTABLE_STATUS = #{acceptableStatus},
            </if>
            UPDATE_DATE = SYSTIMESTAMP
        </set>
        WHERE REQ_MARK_ADD_NO = #{reqMarkAddNo}
    </update>
    <insert id="insertTravel">
        INSERT INTO TRAVEL_INFO(TRAVEL_NO,LATITUDE,LONGITUDE, TRAVEL_NAME, ADDRESS, PHONE, USE_TIME, PARK_FEE, ENTRY_FEE, USE_FEE, SITE_URL, IMAGE_URL, REGION, CATEGORY, INTRODUCE, ZOOM_LEVEL)
        VALUES(SEQ_TRAVEL_INFO_NO.NEXTVAL, #{latitude}, #{longitude},#{travelName}, #{address}, #{phone}, #{useTime}, #{parkFee}, #{entryFee}, #{useFee}, #{siteUrl}, #{imageUrl}, #{region}, #{category}, #{introduce}, #{zoomLevel})
    </insert>
</mapper>